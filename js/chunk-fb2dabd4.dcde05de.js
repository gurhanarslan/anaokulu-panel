(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fb2dabd4"],{"0afd":function(e,t,a){},"0bc6":function(e,t,a){},"1f09":function(e,t,a){},7495:function(e,t,a){"use strict";var i=a("0afd"),s=a.n(i);s.a},bd88:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"down-top-padding",attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500"}},[a("v-toolbar",{attrs:{color:"deep-purple accent-4",dark:""}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.messages=[],e.selectTeacher=!0}}},[a("v-icon",[e._v("mdi-arrow-left")])],1),a("v-toolbar-title",[e._v("Mesajlar")]),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("mdi-message")])],1)],1),e.selectTeacher?a("v-list",{attrs:{subheader:""}},[a("v-subheader",[e._v("Recent chat")]),a("v-text-field",{staticStyle:{padding:"20px"},attrs:{loading:e.loading,hint:"Öğretmen Adı veya Soyadı arayabilirsiniz.",label:"Arama"},model:{value:e.searchingTeacher,callback:function(t){e.searchingTeacher=t},expression:"searchingTeacher"}}),e._l(e.items,(function(t){return a("v-list-item",{key:t.title,on:{click:function(a){return e.setTeacherChats(t)}}},[a("v-list-item-avatar",[a("v-img",{attrs:{src:0==t.image?"https://s3.amazonaws.com/37assets/svn/765-default-avatar.png":t.image}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t.fullName)}})],1),a("v-list-item-icon",[a("v-icon",{attrs:{color:"deep-purple accent-4"}},[e._v("mdi-message")])],1)],1)})),e.loading?a("div",e._l(8,(function(t){return a("v-skeleton-loader",{key:t,ref:"skeleton",refInFor:!0,staticClass:"mx-auto",attrs:{boilerplate:e.boilerplate,type:e.type,tile:e.tile}})})),1):e._e(),0!=e.items.length||e.loading?e._e():a("p",{staticClass:"text-center"},[e._v("Öğretmen Bulamadık.")])],2):a("v-list",{attrs:{subheader:""}},[a("v-subheader",[e._v("Previous chats")]),e._l(e.items2,(function(t){return a("v-list-item",{key:t.title,on:{click:function(a){return e.setMessages(t)}}},[a("v-list-item-avatar",[a("v-img",{attrs:{src:0==t.image?"https://s3.amazonaws.com/37assets/svn/765-default-avatar.png":t.image}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t.fullName)}}),a("v-list-item-subtitle",[e._v(e._s(t.content))])],1),a("v-list-item-action",[a("v-list-item-action-text",{domProps:{textContent:e._s(t.lastSeen)}}),a("v-icon",{attrs:{color:"grey lighten-1"}},[e._v(" mdi-message-outline ")])],1)],1)})),0==e.items2.length?a("p",{staticClass:"text-center"},[e._v("Mesaj Kutusu Boş")]):e._e()],2)],1)],1),a("v-col",{staticStyle:{"overflow-y":"scroll","overflow-x":"hidden",height:"600px"},attrs:{cols:"12",lg:"4"}},[0!=e.messages.length?a("v-card",[a("v-card-text",[e._v(" Mesajlar ")]),a("v-divider"),a("v-card-text",{staticStyle:{background:"#ece5dd"}},[e._l(e.messages,(function(t,i){return a("ul",{key:i,staticStyle:{padding:"0"}},[a("li",{class:t.senderId==e.activeTeacher?"float-right chat_right":"chat_left float-left"},[a("div",[a("span",[e._v(e._s(t.content))])])]),a("br"),a("br"),a("p",{class:t.senderId==e.activeTeacher?" text-right":"text-left ",staticStyle:{"text-decoration":"underline"}},[e._v(e._s(t.atDate))])])})),a("div")],2)],1):e._e()],1)],1)],1)},s=[],n=(a("99af"),a("4160"),a("b0c0"),a("ac1f"),a("5319"),a("159b"),{data:function(){return{selectTeacher:!0,loading:!1,searchingTeacher:"",activeTeacher:null,boilerplate:!1,tile:!1,type:"list-item-avatar-three-line",types:[],items:[],items2:[],messages:[]}},watch:{searchingTeacher:function(e){var t=this;e.length>3?this.$api.get("user?filter=isTeacher=1&searchFields=name,lastName&search="+e).then((function(e){0!=e.count?(e.body.forEach((function(e){e.image=e.image.replace("public/",t.$api.BASE_API_URL),e.fullName=e.name+" "+e.lastName})),t.items=e.body):t.items=[]})):0==e.length&&this.initTeacher()}},methods:{setTeacherChats:function(e){var t=this;this.activeTeacher=e.id,this.$api.get("messageBox/"+e.id).then((function(e){0!=e.count?(e.body.forEach((function(e){e.lastSeen=t.$settings.dataFormatterNaApiWithTime(e.lastSeen),e.image=e.image.replace("public/",t.$api.BASE_API_URL),e.fullName=e.name+" "+e.lastname})),t.items2=e.body,t.selectTeacher=!1):(t.items2=[],t.selectTeacher=!1)}))},initTeacher:function(){var e=this;this.loading=!0,this.$api.get("user?filter=isTeacher=1").then((function(t){0!=t.count?(t.body.forEach((function(t){t.image=t.image.replace("public/",e.$api.BASE_API_URL),t.fullName=t.name+" "+t.lastName})),e.items=t.body,e.loading=!1):(e.items=[],e.loading=!1)}))},setMessages:function(e){var t=this;this.messages=[],this.$api.get("i/j/w/messages/user?on=messages.receiverId=t2.id&filter=messages.receiverId=".concat(e.receiverId,",messages.senderId=").concat(e.senderId,"||messages.receiverId=").concat(e.senderId,",messages.senderId=").concat(e.receiverId,"&fields=messages.*,t2.name,t2.lastName,t2.image&limit=200")).then((function(e){"success"==e.status?(e.body.forEach((function(e){e.atDate=t.$settings.dataFormatterNaApiWithTime(e.atDate),e.image=e.image.replace("public/",t.$api.BASE_API_URL)})),t.messages=e.body):t.messages=[]}))}},mounted:function(){this.initTeacher()}}),r=n,l=(a("7495"),a("2877")),o=a("6544"),c=a.n(o),d=a("8336"),h=a("b0af"),u=a("99d9"),m=a("62ad"),v=a("a523"),g=a("ce7e"),p=a("132d"),f=a("adda"),b=a("8860"),y=a("da13"),_=a("1800"),x=a("5d23"),S=a("8270"),T=a("34c3"),k=a("0fd9"),I=(a("a630"),a("c975"),a("d81d"),a("3ca3"),a("1276"),a("3835")),V=a("5530"),B=(a("1f09"),a("c995")),L=a("24b2"),w=a("7560"),C=a("58df"),$=a("80d2"),A=Object(C["a"])(B["a"],L["a"],w["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?this.boilerplate?{}:Object(V["a"])({"aria-busy":!0,"aria-live":"polite",role:"alert"},this.$attrs):this.$attrs},classes:function(){return Object(V["a"])({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses,{},this.elevationClasses)},isLoading:function(){return!("default"in this.$scopedSlots)||this.loading},rootTypes:function(){return Object(V["a"])({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(e,t){return this.$createElement("div",{staticClass:"v-skeleton-loader__".concat(e," v-skeleton-loader__bone")},t)},genBones:function(e){var t=this,a=e.split("@"),i=Object(I["a"])(a,2),s=i[0],n=i[1],r=function(){return t.genStructure(s)};return Array.from({length:n}).map(r)},genStructure:function(e){var t=[];e=e||this.type||"";var a=this.rootTypes[e]||"";if(e===a);else{if(e.indexOf(",")>-1)return this.mapBones(e);if(e.indexOf("@")>-1)return this.genBones(e);a.indexOf(",")>-1?t=this.mapBones(a):a.indexOf("@")>-1?t=this.genBones(a):a&&t.push(this.genStructure(a))}return[this.genBone(e,t)]},genSkeleton:function(){var e=[];return this.isLoading?e.push(this.genStructure()):e.push(Object($["q"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},e):e},mapBones:function(e){return e.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter:function(e){this.resetStyles(e),this.isLoading&&(e._initialStyle={display:e.style.display,transition:e.style.transition},e.style.setProperty("transition","none","important"))},onBeforeLeave:function(e){e.style.setProperty("display","none","important")},resetStyles:function(e){e._initialStyle&&(e.style.display=e._initialStyle.display||"",e.style.transition=e._initialStyle.transition,delete e._initialStyle)}},render:function(e){return e("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}}),E=a("2fa4"),j=a("e0c7"),O=a("8654"),N=a("71d9"),P=a("2a7f"),R=Object(l["a"])(r,i,s,!1,null,null,null);t["default"]=R.exports;c()(R,{VBtn:d["a"],VCard:h["a"],VCardText:u["b"],VCol:m["a"],VContainer:v["a"],VDivider:g["a"],VIcon:p["a"],VImg:f["a"],VList:b["a"],VListItem:y["a"],VListItemAction:_["a"],VListItemActionText:x["a"],VListItemAvatar:S["a"],VListItemContent:x["b"],VListItemIcon:T["a"],VListItemSubtitle:x["c"],VListItemTitle:x["d"],VRow:k["a"],VSkeletonLoader:A,VSpacer:E["a"],VSubheader:j["a"],VTextField:O["a"],VToolbar:N["a"],VToolbarTitle:P["a"]})},e0c7:function(e,t,a){"use strict";var i=a("5530"),s=(a("0bc6"),a("7560")),n=a("58df");t["a"]=Object(n["a"])(s["a"]).extend({name:"v-subheader",props:{inset:Boolean},render:function(e){return e("div",{staticClass:"v-subheader",class:Object(i["a"])({"v-subheader--inset":this.inset},this.themeClasses),attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})}}]);
//# sourceMappingURL=chunk-fb2dabd4.dcde05de.js.map