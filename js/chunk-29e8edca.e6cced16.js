(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29e8edca"],{"3a2f":function(t,e,i){"use strict";i("a9e3");var a=i("ade3"),n=(i("9734"),i("4ad4")),o=i("a9ad"),s=i("16b7"),l=i("b848"),r=i("75eb"),c=i("f573"),d=i("f2e7"),h=i("80d2"),u=i("d9bd"),f=i("58df");e["a"]=Object(f["a"])(o["a"],s["a"],l["a"],r["a"],c["a"],d["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String,zIndex:{default:null}},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,i=t.content,a=!this.bottom&&!this.left&&!this.top&&!this.right,n=!1!==this.attach?e.offsetLeft:e.left,o=0;return this.top||this.bottom||a?o=n+e.width/2-i.width/2:(this.left||this.right)&&(o=n+(this.right?e.width:-i.width)+(this.right?10:-10)),this.nudgeLeft&&(o-=parseInt(this.nudgeLeft)),this.nudgeRight&&(o+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(o,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,i=t.content,a=!1!==this.attach?e.offsetTop:e.top,n=0;return this.top||this.bottom?n=a+(this.bottom?e.height:-i.height)+(this.bottom?10:-10):(this.left||this.right)&&(n=a+e.height/2-i.height/2),this.nudgeTop&&(n-=parseInt(this.nudgeTop)),this.nudgeBottom&&(n+=parseInt(this.nudgeBottom)),"".concat(this.calcYOverflow(n+this.pageYOffset),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(h["g"])(this.maxWidth),minWidth:Object(h["g"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(h["r"])(this,"activator",!0)&&Object(u["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=n["a"].options.methods.genActivatorListeners.call(this);return e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")},e.keydown=function(e){e.keyCode===h["v"].esc&&(t.getActivator(e),t.runDelay("close"))},e},genTransition:function(){var t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent:function(){var t;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(t={},Object(a["a"])(t,this.contentClass,!0),Object(a["a"])(t,"menuable__content__active",this.isActive),Object(a["a"])(t,"v-tooltip__content--fixed",this.activatorFixed),t),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}})},"3cdc":function(t,e,i){},9734:function(t,e,i){},c2c3:function(t,e,i){"use strict";var a=i("3cdc"),n=i.n(a);n.a},cac4:function(t,e,i){},d3ed:function(t,e,i){"use strict";var a=i("cac4"),n=i.n(a);n.a},d452:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[t.pageLoading?i("loading"):i("div",[i("div",{staticClass:"text-right my-4"},[i("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.dialog=!0}}},[t._v("Yeni Bir Aylık Bülten Ekle")])],1),i("div",{staticClass:"bg-white"},[i("h6",{staticClass:"p-2 subtitle-2 font-weighh6t-light",staticStyle:{background:"white",padding:"10px"}},[t._v(" Okulda Aylık işleyişin listesini ekleyebilirsiniz.")])]),i("div",{attrs:{id:"gallery"}},t._l(t.programs,(function(e,a){return i("div",{key:a,on:{click:function(i){t.dialogImg=!0,t.imgDetail=Object.assign({},e,{index:a})}}},["pdf"==e.type?i("iframe",{staticClass:"p-0",attrs:{src:e.file,width:"40",frameborder:"0"}}):i("img",{attrs:{src:e.file}}),i("a",{staticClass:"pp"},[t._v(t._s(e.atDate))])])})),0),i("insert-monthly-news-dialog",{attrs:{dialog:t.dialog},on:{dialog:function(e){t.dialog=e},setNewFoodList:function(e){t.programs.unshift(e),t.snackbar=!0}}}),i("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialogImg,callback:function(e){t.dialogImg=e},expression:"dialogImg"}},[null!=t.imgDetail?i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[i("v-icon",{staticClass:"mx-3",attrs:{color:"primary"}},[t._v("mdi-calendar-multiple-check")]),t._v(t._s(t.imgDetail.atMonth)+". Ay "+t._s("Gönderisi")+" ")],1),i("v-row",{attrs:{justify:"end",align:"center"}},[i("v-tooltip",{staticClass:"mx-2 ",attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[i("span",{on:{click:function(e){t.processData={id:t.imgDetail.id,index:t.imgDetail.index},t.dialog3=!0}}},[i("v-icon",t._g(t._b({staticClass:"ml-2",attrs:{color:"danger",dark:""}},"v-icon",n,!1),a),[t._v("mdi-delete")])],1)]}}],null,!1,1437528779)},[i("span",[t._v("Aylık Bülteni Kaldır")])]),i("v-tooltip",{staticClass:"mx-2 ",attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[i("span",{on:{click:function(e){t.dialogImg=!1}}},[i("v-icon",t._g(t._b({staticClass:"ml-2",attrs:{color:"danger",dark:""}},"v-icon",n,!1),a),[t._v("mdi-close-box")])],1)]}}],null,!1,80690987)},[i("span",[t._v("Kapat")])])],1)],1),i("div",[i("v-divider")],1),"jpg"==t.imgDetail.type?i("img",{attrs:{width:"100%",src:t.imgDetail.file,alt:""}}):i("iframe",{staticStyle:{height:"800px",width:"100%"},attrs:{src:t.imgDetail.file,frameborder:"0"}})],1):t._e()],1),i("confirm",{attrs:{dialog:t.dialog3},on:{cancel:function(e){t.dialog3=!1},confirm:t.deleteItem}}),i("snack-bar",{attrs:{snackbar:t.snackbar},on:{finished:function(e){t.snackbar=e}}})],1)],1)},n=[],o=(i("4160"),i("a15b"),i("a434"),i("ac1f"),i("5319"),i("1276"),i("159b"),i("f751")),s={components:{insertMonthlyNewsDialog:o["a"]},data:function(){return{dialog:!1,dialogImg:!1,snackbar:!1,loading:!1,pageLoading:!0,dialog3:!1,programs:[],processData:{},imgDetail:null}},methods:{deleteItem:function(){var t=this;this.$api.put("monthlyNewsletter",this.processData.id,{isActive:0}).then((function(e){1==e.result?(t.snackbar=!0,t.programs.splice(t.processData.index,1),t.dialog3=!1,t.dialogImg=!1,t.processData=null,setTimeout((function(){t.snackbar=!1}),4e3)):(t.dialogImg=!1,t.processData=null)}))}},mounted:function(){var t=this;this.$api.get("monthlyNewsletter?limit=20&order=desc&sort=id").then((function(e){0!=e.count?(e.body.forEach((function(e){e.file=e.file.replace("public/",t.$api.BASE_API_URL),"pdf"==e.file.split("").reverse().join("").split(".")[0].split("").reverse().join("")?e.type="pdf":e.type="jpg"})),t.programs=e.body,t.pageLoading=!1):(t.pageLoading=!1,t.programs=[])}))}},l=s,r=(i("c2c3"),i("2877")),c=i("6544"),d=i.n(c),h=i("8336"),u=i("b0af"),f=i("99d9"),p=i("a523"),g=i("169a"),m=i("ce7e"),v=i("132d"),b=i("0fd9"),y=i("3a2f"),w=Object(r["a"])(l,a,n,!1,null,"14eb8be4",null);e["default"]=w.exports;d()(w,{VBtn:h["a"],VCard:u["a"],VCardTitle:f["c"],VContainer:p["a"],VDialog:g["a"],VDivider:m["a"],VIcon:v["a"],VRow:b["a"],VTooltip:y["a"]})},f573:function(t,e,i){"use strict";i("a9e3"),i("d3b7");var a=i("5530"),n=i("fe6c"),o=i("21be"),s=i("4ad4"),l=i("58df"),r=i("80d2"),c=Object(l["a"])(o["a"],n["a"],s["a"]);e["a"]=c.extend().extend({name:"menuable",props:{allowOverflow:Boolean,light:Boolean,dark:Boolean,maxWidth:{type:[Number,String],default:"auto"},minWidth:[Number,String],nudgeBottom:{type:[Number,String],default:0},nudgeLeft:{type:[Number,String],default:0},nudgeRight:{type:[Number,String],default:0},nudgeTop:{type:[Number,String],default:0},nudgeWidth:{type:[Number,String],default:0},offsetOverflow:Boolean,openOnClick:Boolean,positionX:{type:Number,default:null},positionY:{type:Number,default:null},zIndex:{type:[Number,String],default:null}},data:function(){return{absoluteX:0,absoluteY:0,activatedBy:null,activatorFixed:!1,dimensions:{activator:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0,offsetLeft:0},content:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0}},hasJustFocused:!1,hasWindow:!1,inputActivator:!1,isContentActive:!1,pageWidth:0,pageYOffset:0,stackClass:"v-menu__content--active",stackMinZIndex:6}},computed:{computedLeft:function(){var t=this.dimensions.activator,e=this.dimensions.content,i=(!1!==this.attach?t.offsetLeft:t.left)||0,a=Math.max(t.width,e.width),n=0;if(n+=this.left?i-(a-t.width):i,this.offsetX){var o=isNaN(Number(this.maxWidth))?t.width:Math.min(t.width,Number(this.maxWidth));n+=this.left?-o:t.width}return this.nudgeLeft&&(n-=parseInt(this.nudgeLeft)),this.nudgeRight&&(n+=parseInt(this.nudgeRight)),n},computedTop:function(){var t=this.dimensions.activator,e=this.dimensions.content,i=0;return this.top&&(i+=t.height-e.height),!1!==this.attach?i+=t.offsetTop:i+=t.top+this.pageYOffset,this.offsetY&&(i+=this.top?-t.height:t.height),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),i},hasActivator:function(){return!!this.$slots.activator||!!this.$scopedSlots.activator||!!this.activator||!!this.inputActivator}},watch:{disabled:function(t){t&&this.callDeactivate()},isActive:function(t){this.disabled||(t?this.callActivate():this.callDeactivate())},positionX:"updateDimensions",positionY:"updateDimensions"},beforeMount:function(){this.hasWindow="undefined"!==typeof window},methods:{absolutePosition:function(){return{offsetTop:0,offsetLeft:0,scrollHeight:0,top:this.positionY||this.absoluteY,bottom:this.positionY||this.absoluteY,left:this.positionX||this.absoluteX,right:this.positionX||this.absoluteX,height:0,width:0}},activate:function(){},calcLeft:function(t){return Object(r["g"])(!1!==this.attach?this.computedLeft:this.calcXOverflow(this.computedLeft,t))},calcTop:function(){return Object(r["g"])(!1!==this.attach?this.computedTop:this.calcYOverflow(this.computedTop))},calcXOverflow:function(t,e){var i=t+e-this.pageWidth+12;return t=(!this.left||this.right)&&i>0?Math.max(t-i,0):Math.max(t,12),t+this.getOffsetLeft()},calcYOverflow:function(t){var e=this.getInnerHeight(),i=this.pageYOffset+e,a=this.dimensions.activator,n=this.dimensions.content.height,o=t+n,s=i<o;return s&&this.offsetOverflow&&a.top>n?t=this.pageYOffset+(a.top-n):s&&!this.allowOverflow?t=i-n-12:t<this.pageYOffset&&!this.allowOverflow&&(t=this.pageYOffset+12),t<12?12:t},callActivate:function(){this.hasWindow&&this.activate()},callDeactivate:function(){this.isContentActive=!1,this.deactivate()},checkForPageYOffset:function(){this.hasWindow&&(this.pageYOffset=this.activatorFixed?0:this.getOffsetTop())},checkActivatorFixed:function(){if(!1===this.attach){var t=this.getActivator();while(t){if("fixed"===window.getComputedStyle(t).position)return void(this.activatorFixed=!0);t=t.offsetParent}this.activatorFixed=!1}},deactivate:function(){},genActivatorListeners:function(){var t=this,e=s["a"].options.methods.genActivatorListeners.call(this),i=e.click;return e.click=function(e){t.openOnClick&&i&&i(e),t.absoluteX=e.clientX,t.absoluteY=e.clientY},e},getInnerHeight:function(){return this.hasWindow?window.innerHeight||document.documentElement.clientHeight:0},getOffsetLeft:function(){return this.hasWindow?window.pageXOffset||document.documentElement.scrollLeft:0},getOffsetTop:function(){return this.hasWindow?window.pageYOffset||document.documentElement.scrollTop:0},getRoundedBoundedClientRect:function(t){var e=t.getBoundingClientRect();return{top:Math.round(e.top),left:Math.round(e.left),bottom:Math.round(e.bottom),right:Math.round(e.right),width:Math.round(e.width),height:Math.round(e.height)}},measure:function(t){if(!t||!this.hasWindow)return null;var e=this.getRoundedBoundedClientRect(t);if(!1!==this.attach){var i=window.getComputedStyle(t);e.left=parseInt(i.marginLeft),e.top=parseInt(i.marginTop)}return e},sneakPeek:function(t){var e=this;requestAnimationFrame((function(){var i=e.$refs.content;i&&"none"===i.style.display?(i.style.display="inline-block",t(),i.style.display="none"):t()}))},startTransition:function(){var t=this;return new Promise((function(e){return requestAnimationFrame((function(){t.isContentActive=t.hasJustFocused=t.isActive,e()}))}))},updateDimensions:function(){var t=this;this.hasWindow="undefined"!==typeof window,this.checkActivatorFixed(),this.checkForPageYOffset(),this.pageWidth=document.documentElement.clientWidth;var e={activator:Object(a["a"])({},this.dimensions.activator),content:Object(a["a"])({},this.dimensions.content)};if(!this.hasActivator||this.absolute)e.activator=this.absolutePosition();else{var i=this.getActivator();if(!i)return;e.activator=this.measure(i),e.activator.offsetLeft=i.offsetLeft,!1!==this.attach?e.activator.offsetTop=i.offsetTop:e.activator.offsetTop=0}this.sneakPeek((function(){t.$refs.content&&(e.content=t.measure(t.$refs.content)),t.dimensions=e}))}}})},f751:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{attrs:{justify:"center"}},[i("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[i("v-icon",{attrs:{color:"primary"}},[t._v("mdi-calendar-multiple-check")]),t._v(" Aylık Bülten Ekle")],1)]),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"12"}},[i("v-select",{attrs:{"error-messages":t.errmessages,items:t.months,"item-text":"label","item-value":"val",label:t.$t("generate.selectMonth")},model:{value:t.mnl.atMonth,callback:function(e){t.$set(t.mnl,"atMonth",e)},expression:"mnl.atMonth"}})],1),i("v-col",{attrs:{cols:"12"}},[i("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"#","on-change":t.fileUpload,multiple:!1,limit:1,"auto-upload":!1}},[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[t._v("Drop file here or "),i("em",[t._v("click to upload")])]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("jpg/png files with a size less than 2MB "),i("p",{staticStyle:{color:"red"}},[t._v(" "+t._s(t.errMsg))])]),i("div",{staticStyle:{color:"red"}})])],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"ma-2",attrs:{color:"info",dark:""},on:{click:function(e){return t.closeModal()}}},[t._v(t._s(t.$t("generate.close"))+" ")]),i("v-btn",{staticClass:"ma-2",attrs:{loading:t.loading,disabled:t.loading,color:"primary",dark:""},on:{click:function(e){return t.sendFood()}}},[t._v(t._s(t.$t("generate.submit")))])],1)],1)],1),i("snack-bar",{attrs:{snackbar:t.snackbar},on:{finished:function(e){t.snackbar=e}}})],1)},n=[],o=(i("caad"),i("c975"),i("a15b"),i("d81d"),i("ac1f"),i("2532"),i("5319"),i("96cf"),i("1da1")),s={props:{dialog:{default:!1,type:Boolean,required:!0}},computed:{dateRangeText:function(){return this.date.join(" ~ ")}},methods:{sendFood:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i,a,n,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loading=!0,t.errmessages=[],0!=t.mnl.file.length&&""!=t.mnl.atMonth){e.next=8;break}""==t.mnl.atMonth&&t.errmessages.push("Bültenin hangi ay kullanılacağını giriniz."),0==t.mnl.file.length&&(t.errMsg="Dosya Seçiniz"),t.loading=!1,e.next=16;break;case 8:return t.loading=!0,i=new FormData,i.append("atMonth",t.mnl.atMonth),i.append("image",t.mnl.file),e.next=14,t.$api.postfd("monthlyNewsletter","file",i);case 14:a=e.sent,"success"==a.status?(n=t.months.map((function(t){return t.val})).indexOf(t.mnl.atMonth),t.$api.tnotify("Yeni Aylık Bülten Eklendi!",t.months[n].label+" ayı Aylık Bülteniniz Eklenmiştir!","teachers"),t.$api.tnotify("Yeni Aylık Bülten Eklendi!",t.months[n].label+" ayı Aylık Bülteniniz Eklenmiştir!","parents"),o="jpg",t.mnl.file.type.includes("pdf")&&(o="pdf"),s=a.path.replace("public/",t.$api.BASE_API_URL),t.$emit("setNewFoodList",{atMonth:t.mnl.atMonth,file:s,type:o}),t.loading=!1,t.closeModal()):t.loading=!1;case 16:case"end":return e.stop()}}),e)})))()},fileUpload:function(t){"application/pdf"==t.raw.type||"image/jpeg"==t.raw.type||"image/png"==t.raw.type?t.size>2048e3?this.errMsg="Dosya Boyutunuz 2MB üzerinde lütfen "+t.raw.type+" dosyanızı kaldırın. Dosya Boyutu : "+t.raw.size+" bayt":(this.errMsg="",this.mnl.file=t.raw):this.errMsg="Dosya formatınız .pdf, .jpg, .jpeg veya .png olmalıdır."},closeModal:function(){this.dialog=!1,this.$emit("dialog",!1),this.mnl={atMonth:"",file:[],dataURL:""}}},data:function(){return{months:[{val:1,label:"Ocak"},{val:2,label:"Şubat"},{val:3,label:"Mart"},{val:4,label:"Nisan"},{val:5,label:"Mayıs"},{val:6,label:"Haziran"},{val:7,label:"Temmuz"},{val:8,label:"Ağustos"},{val:9,label:"Eylül"},{val:10,label:"Ekim"},{val:11,label:"Kasım"},{val:12,label:"Aralık"}],errmessages:[],snackbar:!1,loading:!1,date:[],errMsg:"",mnl:{atMonth:"",file:[],dataURL:""}}}},l=s,r=(i("d3ed"),i("2877")),c=i("6544"),d=i.n(c),h=i("8336"),u=i("b0af"),f=i("99d9"),p=i("62ad"),g=i("a523"),m=i("169a"),v=i("132d"),b=i("0fd9"),y=i("b974"),w=i("2fa4"),k=Object(r["a"])(l,a,n,!1,null,null,null);e["a"]=k.exports;d()(k,{VBtn:h["a"],VCard:u["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VCol:p["a"],VContainer:g["a"],VDialog:m["a"],VIcon:v["a"],VRow:b["a"],VSelect:y["a"],VSpacer:w["a"]})}}]);
//# sourceMappingURL=chunk-29e8edca.e6cced16.js.map